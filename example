import { Component } from '@angular/core';
import { PayeeService } from '../../services/payee.service';
import { Payee } from '../../models/payee';

@Component({
  selector: 'app-payee-add',
  templateUrl: './payee-add.component.html',
  styleUrls: ['./payee-add.component.css']
})
export class PayeeAddComponent {

  payee: Payee = {
    payeeId: 0,
    customerId: 1,
    payeeName: '',
    payeeAccountNo: '',
    payeeIfsccode: '',
    customer: null
  };

  payeeAdded: boolean = false; // Flag to track if payee was added successfully

  constructor(private payeeService: PayeeService) { }

  addPayee(): void {
    this.payeeService.addPayee(this.payee).subscribe(
      response => {
        console.log('Payee added successfully', response);
        this.payeeAdded = true; // Set flag to true upon successful addition
      },
      error => {
        console.error('Error adding payee', error);
        // Handle error scenario if needed
      }
    );
  }
}
